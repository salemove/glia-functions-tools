---
schema:
  type: object
  properties:
    content:
      $ref: '../properties/chat.yaml#/properties/content'
    type:
      $ref: '../properties/chat.yaml#/properties/type_in_message'
    attachment:
      $ref: '../properties/chat.yaml#/properties/attachment'
    metadata:
      $ref: '../properties/chat.yaml#/properties/metadata'

examples:
  chat_message:
    summary: Chat message only
    value: &base_chat_message
      content: Hi, I would like some suggestions regarding insurance.
      type: chat

  file_attachment:
    summary: Chat message with file attachment
    value:
      <<: *base_chat_message
      content: ''
      attachment:
        type: files
        files:
          - id: 53b236ee-f888-45ec-8e0f-5bf4d5e16a2e

  single_choice_attachment:
    summary: Chat message with single choice attachment
    value:
      <<: *base_chat_message
      content: Which of these is correct?
      attachment:
        type: single_choice
        options:
          - text: Choice 1
            value: choice_1
          - text: Choice 2
            value: choice_2
        image_url: https://example.com/files/image.png

  single_choice_response_attachment:
    summary: Chat message with single choice response attachment
    value:
      <<: *base_chat_message
      content: Choice 2
      attachment:
        type: single_choice_response
        selected_option: choice_2

  ssml_choice_attachment:
    summary: Chat message with SSML attachment
    value:
      <<: *base_chat_message
      content: ''
      attachment:
        type: ssml
        content: <speak><prosody pitch="+5%">Hello<break>How may I help you with the application?</prosody></speak>
